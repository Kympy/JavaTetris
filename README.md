# JavaTetris
 Java Swing GUI Tetris

Java 의 Swing 을 연구하며 만들어보는 테트리스.
시간 될 때 마다 조금씩 업데이트..

### [23.09.18]
블럭 생성, 하강, 좌우 이동 전부 구현하고서, 회전을 시키려고 문득 보니
회전이 상당히 까다로웠다. 1차원 배열로 좌표를 설정하다보니 회전에 규칙성이 없었다.
일반적으로 블럭 모양 별로 회전된 절대 좌표를 상수로 정의해놓고 가져다 쓰던데, 이 방식을 쓰기 싫었다.
따라서, 우선 생각한 방식은 이렇다.

1. 블럭의 각 픽셀별 좌표를 가져온다.
2. 1차원 배열인 각 픽셀 좌표를 2차원 배열 좌표로 변환한다.
3. 변환된 좌표 중 하나를 기준으로 잡고, 해당 기준점을 (0,0) 으로 볼 때의 나머지 픽셀의 로컬좌표를 구한다.
4. 각 픽셀별로 월드좌표 - 로컬좌표의 차이값을 저장해둔다.
5. 변환된 로컬좌표에 90도 회전시키는 회전행렬을 곱한다.
6. 회전된 좌표에 저장해둔 차이값을 다시 더해 월드 좌표로 변환한다.
7. 월드 좌표를 1차원 배열로 전환한다.
8. 전환된 1차원 배열 좌표에 맞는 픽셀을 렌더링한다.

아마 6번 과정에서 맵 영역을 벗어나는 픽셀이 생길 수 있다는 예외가 발생할 것으로 추측된다.
후처리가 필요할 것으로 보임.
